<!-- <p *ngIf="selectTicket && selectTicket.ticketID">{{selectTicket.ticketID}}</p> -->
<mat-stepper #stepper>
	<mat-step *ngIf="phaseTicket <= 1">
		<ng-template matStepLabel>1.- Creacion de Ticket</ng-template>
		<div>
			<h1 class="center">1.- Creación de ticket exitosa.</h1>
			<img
				class="steperIcon"
				src="https://cdn0.iconfinder.com/data/icons/activity-2/32/129-128.png" />
			<div class="center">
				<h3>
					<span class="info">Tema:</span>
					<b>{{ selectTicket.description }}</b>
				</h3>
				<h3>
					<span class="info">Fecha de Creación:</span>
					<b>{{ selectTicket.created | date: 'shortDate' }}</b>
				</h3>
			</div>
			<div fxLayout="row" fxLayoutAlign="center">
				<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
					Siguiente
				</button>
			</div>
		</div>
	</mat-step>

	<mat-step *ngIf="phaseTicket > 2" [state]="'done'" [completed]="true">
		<ng-template matStepLabel>1.- Creación de Ticket</ng-template>
		<div>
			<h1 class="center">1.-Creación de ticket exitosa.</h1>
			<img
				class="steperIcon"
				src="https://cdn0.iconfinder.com/data/icons/activity-2/32/129-128.png" />
			<div class="center">
				<h3>
					<span class="info">Tema:</span>
					<b>{{ selectTicket.description }}</b>
				</h3>
				<h3>
					<span class="info">Fecha de Creación:</span>
					<b>{{ selectTicket.created | date: 'shortDate' }}</b>
				</h3>
				<div fxLayout="row" fxLayoutAlign="center">
					<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
						Siguiente
					</button>
				</div>
			</div>
		</div>
	</mat-step>

	<!-- Paso 2 -->
	<mat-step *ngIf="phaseTicket <= 2">
		<ng-template matStepLabel>2.- Detalles de Incidencia</ng-template>
		<h1 class="center">2.- Detalles de Incidencia</h1>
		<img
			class="image"
			src="https://cdn4.iconfinder.com/data/icons/buno-info-signs/32/__info_about_information-2-256.png"
			alt="#" />
		<!--  <h3 style="text-align: center;"><button style="text-align: center;" mat-button (click)="openDialog()"><span class="info">Parte afectada: </span><b style="font-size: 133%;">{{affectationPart}}</b></button></h3> -->
		<div fxLayout="row">
			<div fxLayout="column" style="width: 55%">
				<h3>
					<span class="info">ID Ticket:</span>
					<b>{{ selectTicket.ticketID }}</b>
				</h3>
				<h3>
					<span class="info">Contrato:</span>
					<b>{{ selectTicket.contract }}</b>
				</h3>
				<h3>
					<span class="info">Equipo:</span>
					<b>{{ selectTicket.equipment }}</b>
				</h3>
				<!-- <h3><span class="info">Titulo: </span><b>{{selectTicket.description}}</b></h3> -->
				<h3>
					<span class="info">Fecha:</span>
					<b>{{ selectTicket.created }}</b>
				</h3>
				<h3>
					<span class="info">Severidad:</span>
					<b>{{ selectTicket.severity }}</b>
				</h3>
				<h3>
					<span class="info">Descripción:</span>
					<b>{{ selectTicket.description }}</b>
				</h3>
			</div>
			<div fxLayout="column">
				<h3>
					<span class="info">Tipo de problema:</span>
					<b>{{ selectTicket.issueType }}</b>
				</h3>
				<h3>
					<span class="info">Modelo:</span>
					<b>{{ selectTicket.model }}</b>
				</h3>
				<h3>
					<span class="info">Parte afectada:</span>
					<b>{{ selectTicket.issueType }}</b>
				</h3>
				<h3>
					<span class="info">Asignado:</span>
					<b>{{ selectTicket.assignedSupportOperator }}</b>
				</h3>
				<h3>
					<span class="info">Estatus:</span>
					<b>{{ selectTicket.status }}</b>
				</h3>
				<h3>
					<span class="info">Fase:</span>
					<b>{{ selectTicket.stepTicket }}</b>
				</h3>
			</div>
		</div>
		<br />
		<div fxLayout="row" fxLayoutAlign="center">
			<button
				mat-raised-button
				class="btn-color"
				style="background-color: #0099cc"
				mat-button
				matStepperPrevious>
				Previo
			</button>
			<button
				mat-raised-button
				class="btn-color"
				style="background-color: #00c22a"
				mat-button
				matStepperNext>
				Siguiente
			</button>
		</div>
	</mat-step>

	<mat-step *ngIf="phaseTicket > 2" [state]="'done'" [completed]="true">
		<ng-template matStepLabel>2.- Detalles de Incidencia</ng-template>
		<h1 class="center">2.- Detalles de Incidencia</h1>
		<img
			class="image"
			src="https://cdn4.iconfinder.com/data/icons/buno-info-signs/32/__info_about_information-2-256.png"
			alt="#" />
		<!--   <h3 style="text-align: center;"><button  mat-button (click)="openDialog()"><span class="info">Parte afectada: </span><b >{{affectationPart}}</b></button></h3> -->

		<div fxLayout="row">
			<div fxLayout="column" style="width: 55%">
				<h3>
					<span class="info">ID Ticket:</span>
					<b>{{ selectTicket.ticketID }}</b>
				</h3>
				<h3>
					<span class="info">Contrato:</span>
					<b>{{ selectTicket.contract }}</b>
				</h3>
				<h3>
					<span class="info">Equipo:</span>
					<b>{{ selectTicket.equipment }}</b>
				</h3>
				<!-- <h3><span class="info">Titulo: </span><b>{{selectTicket.description}}</b></h3> -->
				<h3>
					<span class="info">Fecha:</span>
					<b>{{ selectTicket.created }}</b>
				</h3>
				<h3>
					<span class="info">Severidad:</span>
					<b>{{ selectTicket.severity }}</b>
				</h3>
				<h3>
					<span class="info">Descripción:</span>
					<b>{{ selectTicket.description }}</b>
				</h3>
			</div>
			<div fxLayout="column">
				<h3>
					<span class="info">Tipo de problema:</span>
					<b>{{ selectTicket.issueType }}</b>
				</h3>
				<h3>
					<span class="info">Modelo:</span>
					<b>{{ selectTicket.model }}</b>
				</h3>
				<h3>
					<span class="info">Parte afectada:</span>
					<b>{{ selectTicket.issueType }}</b>
				</h3>
				<h3>
					<span class="info">Asignado:</span>
					<b>{{ selectTicket.assignedSupportOperator }}</b>
				</h3>
				<h3>
					<span class="info">Estatus:</span>
					<b>{{ selectTicket.status }}</b>
				</h3>
				<h3>
					<span class="info">Fase:</span>
					<b>{{ selectTicket.stepTicket }}</b>
				</h3>
			</div>
		</div>
		<br />
		<div fxLayout="row" fxLayoutAlign="center">
			<button
				mat-raised-button
				class="btn-color"
				style="background-color: #0099cc"
				mat-button
				matStepperPrevious>
				Atrás
			</button>
			<button
				mat-raised-button
				class="btn-color"
				style="background-color: #00c22a"
				mat-button
				matStepperNext>
				Siguiente
			</button>
		</div>
	</mat-step>

	<!-- Step 3 -->
	<mat-step [stepControl]="responseSupport" *ngIf="phaseTicket <= 3">
		<ng-template matStepLabel>Plan de acción</ng-template>
		<div>
			<h1 class="center">3.-Responder Ticket.</h1>
			<img
				class="steperIcon"
				src="https://cdn4.iconfinder.com/data/icons/leto-api/64/__api_request_response-256.png" />
			<h3 class="step-3">
				<span class="info">Tipo de problema:</span>
				<b>{{ selectTicket.issueType }}</b>
			</h3>

			<div
				fxlayout="row"
				fxlayoutalign="center"
				ng-reflect-fx-layout="row"
				ng-reflect-fx-layout-align="center"
				style="
					flex-direction: row;
					box-sizing: border-box;
					display: flex;
					place-content: stretch center;
					align-items: stretch;
				"
				class="ng-star-inserted">
				<button
					mat-raised-button
					class="btn-color"
					style="background-color: #0099cc"
					mat-button
					matStepperPrevious>
					Atrás
				</button>
				<button
					mat-flat-button
					class="step-3 btn-accept"
					(click)="replacePart()"
					mat-button>
					<ng-container
						*ngIf="
							selectTicket.issueType == 'Hardware';
							then hardware;
							else software
						"></ng-container>
					<ng-template #hardware>Reemplazar parte</ng-template>
					<ng-template #software>Software</ng-template>
				</button>
			</div>

			<!-- 

            <div fxLayout="row" fxLayoutAlign="center">
                <div fxLayout="column" style="width: 50%;" [formGroup]="responseSupport"
                    *ngIf="selectTicket && selectTicket.status != 'Reassigned'">
                    <mat-form-field appearance="legacy">
                        <mat-label>Status</mat-label>
                        <br>
                        <mat-select formControlName="status">
                            <mat-option *ngFor="let sev of statusResponse" [value]="sev.value">
                                {{sev.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="legacy">
                        <mat-label>Descripcion de la solución</mat-label>
                        <br>
                        <textarea matInput placeholder="Dirección" cdkAutosizeMinRows="10" cdkAutosizeMaxRows="10"
                            cols="10" rows="1" formControlName="solution">
                        </textarea>
                    </mat-form-field>
                    <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
                        <button mat-button matStepperPrevious class="btn-back">Previo</button>
                        <button mat-flat-button class="btn-accept" (click)="sendResponse()" mat-button matStepperNext
                            [disabled]="phaseTicket  >=4">Responder</button>
                    </div>
                </div>
                <div fxLayout="column" style="width: 50%;" [formGroup]="responseSupportReassign"
                    *ngIf="selectTicket && selectTicket.status == 'Reassigned'">
                    <mat-form-field appearance="legacy">
                        <mat-label>Status</mat-label>
                        <br>
                        <mat-select formControlName="status">
                            <mat-option *ngFor="let sev of statusResponse" [value]="sev.value">
                                {{sev.name}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="legacy">
                        <mat-label>Descripcion de la solución</mat-label>
                        <br>
                        <textarea matInput placeholder="Dirección" cdkAutosizeMinRows="10" cdkAutosizeMaxRows="10"
                            cols="10" rows="1" formControlName="solutionReassig">
                        </textarea>
                    </mat-form-field>
                    <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
                        <button mat-button matStepperPrevious class="btn-back">Previo</button>
                        <button mat-flat-button class="btn-accept" (click)="sendResponse()" mat-button matStepperNext
                            [disabled]="phaseTicket  >=4">Responder Reasignacion</button>
                    </div>
                </div>
            </div>
        
        -->
		</div>
	</mat-step>
	<mat-step *ngIf="phaseTicket > 3" [state]="'done'" [completed]="true">
		<ng-template matStepLabel>Plan de acción</ng-template>
		<div>
			<h1 class="center">3.-Ticket.</h1>
			<img
				class="steperIcon"
				src="https://cdn4.iconfinder.com/data/icons/leto-api/64/__api_request_response-256.png" />
			<div fxLayout="row" fxLayoutAlign="center">
				<div
					fxLayout="column"
					style="width: 50%"
					[formGroup]="responseSupport"
					*ngIf="selectTicket.status != 'Reassigned'">
					<h3>
						<span class="info">Status:</span>
						<b>{{ spanishStatus }}</b>
					</h3>
					<h3>
						<span class="info">Descripcion:</span>
						<b>
							{{
								selectTicket.solutionReassig
									? selectTicket.solutionReassig
									: selectTicket.solution
							}}
						</b>
					</h3>
				</div>
			</div>
			<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
				<button mat-button matStepperPrevious class="btn-back">Previo</button>
				<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
					Siguiente
				</button>
			</div>
		</div>
	</mat-step>

	<mat-step [editable]="false" *ngIf="phaseTicket < 4" [completed]="false">
		<ng-template matStepLabel>4-.Información Preliminar</ng-template>
		<h3 class="info center">Opción aún no disponible.</h3>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
		</div>
	</mat-step>

	<mat-step *ngIf="phaseTicket >= 4" [state]="'done'" [completed]="true">
		<ng-template matStepLabel>4-.Información Preliminar</ng-template>
		<app-preliminary-info-inv [preliminaryInfo]="selectTicket"></app-preliminary-info-inv>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
			<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
				Siguiente
			</button>
		</div>
	</mat-step>

	<!-- step  5  -->
	<mat-step [editable]="false" *ngIf="phaseTicket < 5" [completed]="false">
		<ng-template matStepLabel>5.-Aprobacion del cliente</ng-template>
		<h3 class="info center">Opción aún no disponible.</h3>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
		</div>
	</mat-step>
	<mat-step *ngIf="phaseTicket == 5">
		<ng-template matStepLabel>5.-Aprobacion del cliente</ng-template>
		<h1 class="center">5-Aprobación de la solución.</h1>
		<img
			style="margin-left: 48%; width: 54px"
			src="https://cdn4.iconfinder.com/data/icons/e-learning-color/64/resources-search-research-review-256.png" />

		<h3 class="info center">
			Si el flujo del ticket es correcto, selecciona el boton de aprobar para continuar.
		</h3>
		<h3 class="info center">En caso de alguna inconformidad, reasignar el ticket.</h3>
		<div fxLayoutAlign="center">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
			<button
				mat-flat-button
				class="btn-cancel"
				style="margin-left: 10px"
				(click)="OpenDialogReassignTicket(selectTicket)">
				Reasignar
			</button>
			<button
				mat-flat-button
				class="btn-accept"
				style="margin-left: 10px"
				(click)="OpenDialogAproveTicket(selectTicket)">
				Aprobar
			</button>
		</div>
	</mat-step>
	<mat-step *ngIf="phaseTicket > 5" [state]="'done'" [completed]="true">
		<ng-template matStepLabel>5.-Aprobacion del cliente</ng-template>
		<h1 class="center">5-Aprobación de la solución.</h1>
		<img
			style="margin-left: 48%; width: 54px"
			src="https://cdn4.iconfinder.com/data/icons/e-learning-color/64/resources-search-research-review-256.png" />

		<h1 class="center info">El Ticket fue aprobado.</h1>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
			<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
				Siguiente
			</button>
		</div>
	</mat-step>
	<mat-step [editable]="false" *ngIf="phaseTicket < 6" [completed]="false">
		<ng-template matStepLabel>6-.Cierre y descarga</ng-template>
		<h3 class="info center">Opción aún no disponible.</h3>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
		</div>
	</mat-step>
	<mat-step *ngIf="phaseTicket >= 6">
		<ng-template matStepLabel>6-.Cierre y descarga</ng-template>
		<h1 class="center">6-.Descarga de Ticket en PDF.</h1>
		<app-close-download-inv
			[stepperCloseDownload]="selectTicket"></app-close-download-inv>
		<div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="40px">
			<button mat-button matStepperPrevious class="btn-back">Previo</button>
			<button mat-raised-button class="btn-accept" style="width: auto" matStepperNext>
				Siguiente
			</button>
		</div>
	</mat-step>
</mat-stepper>
